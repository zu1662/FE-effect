<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./index.css">
  <title>CSS 灵动岛</title>
</head>

<body>
  <!-- 手机本体 -->
  <div class="iPhone-14-pro">
    <!-- 手机屏幕 -->
    <div class="screen">
      <div id="screen-wrapper" class="wrapper">
        <!-- 灵动岛 -->
        <div id="dynamic-island" class="dynamic-island">
          <!-- 来电人信息 -->
          <div class="caller">
            <!-- 头像 -->
            <div class="avatar"></div>

            <!-- 信息 -->
            <div class="info">
              <span>iPhone</span>
              <p>库克</p>
            </div>
          </div>

          <!-- 接听和挂断电话按钮 -->
          <div class="actions">
            <!-- 挂断电话 -->
            <div class="refuse">
              <svg t="1665737070514" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3489" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100"><path d="M1006.933333 518.826667c-146.773333-139.946667-320.853333-215.04-494.933333-215.04S163.84 378.88 17.066667 518.826667c-10.24 10.24-17.066667 23.893333-17.066667 40.96s6.826667 30.72 17.066667 40.96l102.4 102.4c20.48 20.48 61.44 20.48 81.92 0 30.72-30.72 68.266667-54.613333 105.813333-75.093334 20.48-10.24 34.133333-30.72 34.133333-54.613333v-105.813333c64.853333-20.48 119.466667-27.306667 170.666667-27.306667 54.613333 0 109.226667 10.24 170.666667 27.306667v105.813333c0 23.893333 13.653333 44.373333 34.133333 54.613333 40.96 20.48 75.093333 44.373333 105.813333 75.093334 10.24 10.24 27.306667 17.066667 40.96 17.066666 17.066667 0 30.72-6.826667 40.96-17.066666l102.4-102.4c10.24-10.24 17.066667-27.306667 17.066667-40.96 0-17.066667-6.826667-30.72-17.066667-40.96z" p-id="3490"></path></svg>
            </div>

            <!-- 接听电话 -->
            <div class="answer">
              <svg t="1665737101230" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3704" xmlns:xlink="http://www.w3.org/1999/xlink" width="100" height="100"><path d="M873.8 729.6c-29.4-29.4-100-73.6-134.8-90.2-40.4-19.4-55.2-19-83.8 1.6-23.8 17.2-39.2 33.2-66.6 27.2-27.4-5.8-81.4-46.8-133.8-99-52.4-52.4-93.2-106.4-99-133.8-5.8-27.6 10.2-42.8 27.2-66.6 20.6-28.6 21.2-43.4 1.6-83.8C368 250 324 179.6 294.4 150.2c-29.4-29.4-36-23-52.2-17.2 0 0-24 9.6-47.8 25.4-29.4 19.6-45.8 36-57.4 60.6-11.4 24.6-24.6 70.4 42.6 190 54.2 96.6 107.4 169.8 186.4 248.6l0.2 0.2 0.2 0.2c79 79 152 132.2 248.6 186.4 119.6 67.2 165.4 54 190 42.6 24.6-11.4 41-27.8 60.6-57.4 15.8-23.8 25.4-47.8 25.4-47.8 5.8-16.2 12.4-22.8-17.2-52.2z" p-id="3705"></path></svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 静音键 -->
    <div class="mute-btn"></div>

    <!-- 音量增大键 -->
    <div class="volume-up-btn"></div>

    <!-- 音量减小键 -->
    <div class="volume-down-btn"></div>

    <!-- 电源键 -->
    <div class="power-btn"></div>
  </div>

</body>

</html>
<script>
  (() => {
    const oDynamicIsland = document.getElementById("dynamic-island");
    const oScreenWrapper = document.getElementById("screen-wrapper");

    const init = () => {
      bindEvent();
    };

    const bindEvent = () => {
      // 点击灵动岛时将灵动岛状态变更为展开状态 -- 通过添加一个 .expanded 类名来记录展开状态
      oDynamicIsland.addEventListener("click", (e) => {
        // 阻止事件冒泡到屏幕区域的点击事件监听器中
        // 否则每次点击都会被外层的屏幕元素的点击事件监听器移除 .expanded 类名
        e.stopPropagation();
        oDynamicIsland.classList.add("expanded");
      });

      // 点击屏幕内其他区域时取消灵动岛的展开状态
      oScreenWrapper.addEventListener("click", () => {
        oDynamicIsland.classList.remove("expanded");
      });
    };

    init();
  })();

</script>