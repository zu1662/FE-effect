<!DOCTYPE html>
<html>
<head>
	<title>demo1</title>
</head>
<body>
	<canvas id="demo" width="600" height="600">
		
	</canvas>
	<script type="text/javascript">
	var data = [{
				"value": .2,
				"color": "red",
				"title": "应届生"
			},{
				"value": .3,
				"color": "blue",
				"title": "社会招生"
			},{
				"value": .4,
				"color": "green",
				"title": "老学员推荐"
			},{
				"value": .1,
				"color": "#ccc",
				"title": "公开课"
			}];

		var canvas = document.getElementById("demo");
		var context = canvas.getContext('2d');
		
		var x0 = 300,y0 = 300;
		var tempAngle = -90;
		var radius = 200;
		for(var i = 0;i<data.length;i++){
			context.beginPath();
			context.moveTo(x0,y0);

			context.fillStyle = data[i].color;
			var startAngle = tempAngle * Math.PI /180;
			var endAngle = (data[i].value * 360 + tempAngle) * Math.PI /180;

			var titleAngle = (data[i].value * 360 /2 + tempAngle) * Math.PI /180;
			var titleX = (radius + 60) * Math.cos(titleAngle);
			var titleY = (radius + 60) * Math.sin(titleAngle);
			
			context.strokeText(data[i].title,300+titleX,300+titleY);
			context.arc(x0,y0,radius,startAngle,endAngle);
			context.fill();
			
			tempAngle += data[i].value * 360;  
		}
	</script>
</body>
</html>